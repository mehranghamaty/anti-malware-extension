# Download YDF.
wget https://github.com/google/yggdrasil-decision-forests/releases/download/1.0.0/cli_linux.zip
unzip cli_linux.zip
# Training configuration
echo 'label:"label" learner:"RANDOM_FOREST" ' > config.pbtxt
# Scan the dataset
./infer_dataspec --dataset="csv:../archive/train.csv" --output="spec.pbtxt"
# Train a model
./train --dataset="csv:../archive/train.csv" --dataspec="spec.pbtxt" --config="config.pbtxt" --output="my_model"
# Evaluate the model
./evaluate --dataset="csv:../archive/test.csv" --model="my_model" > evaluation.txt
# Benchmark the speed of the model
./benchmark_inference --dataset="csv:../archive/test.csv" --model="my_model" > benchmark.txt

#prep for serving
./edit_model --input="my_model" --output="my_model_export" --pure_serving=true

zip -j my_model_export.zip my_model_export/*