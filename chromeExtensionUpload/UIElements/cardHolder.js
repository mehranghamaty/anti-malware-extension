import { getAsFile } from "../FileInspector/restClient";
import { Card } from "./card";

/**
 * @class CardHolder
 */
class CardHolder {
    /**
     * @param {Element} cardHolder where the elements are going to be
     *   inserted into
     * @param {Element} cardTemplate the template for cards
     */
    constructor(cardHolder, cardTemplate) {
        this.cardHolder_ = cardHolder;
        this.cardTemplate_ = cardTemplate;
    }

    /**
     * @param {File} file 
     */
    async addCardFromFile(file) {
        let card = new Card(this.cardTemplate_);
        await card.setFromFile(file);
        this.cardHolder_.appendChild(card.render());
    }

    /**
     * @param {string} uri
     */
    async addCardFromUri(uri) {
        let file = await getAsFile(uri);
        await this.addCardFromFile(file);
    }
}

export { CardHolder };