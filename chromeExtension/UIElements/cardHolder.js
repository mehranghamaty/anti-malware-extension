
import { requestScanFile } from "../UtilityFiles/restClient";

/**
 * @class CardHolder
 */
class CardHolder {
    /**
     * @param {Element} cardHolder where the elements are going to be
     *   inserted into
     * @param {Element} cardTemplate the template for cards
     */
    constructor(cardHolder, cardTemplate, serverUri) {
        this.cardHolder_ = cardHolder;
        this.cardTemplate_ = cardTemplate;
    }

    /**
     * @param {Blob} data
     * @return {Uint8Array}
     * @private
     */
    encryptBlob(data) {
        return new Uint8Array(data);
    }


    /**
     * @param {File} file
     * @private
     */
    async scanFile_(file) {
        console.log(this.hostUri_);
        let resObj = await requestScanFile(file);
        console.log(resObj);
    }

    /**
     * @param {File} file 
     */
    addCard(file) {
        const clone = this.cardTemplate_.content.cloneNode(true);
        let cardInfo = clone.querySelector('div');
        cardInfo.textContent = file.name;
        this.scanFile_(file);
        this.cardHolder_.appendChild(cardInfo);
    }

}

export {CardHolder};